select * from player;

-- truncate removes all records from a table and immediatealy auto commits
truncate table player;

drop table player;

-- constraint is a rule that helps to structure your tables and database
create table player(
p_id number(10) primary key, -- This is what makes a record un que
name varchar2(200) not null,  -- primary key is actually a mix of two other constraints
salary number(10) default 0, 
team varchar2(200));

-- procedure is just a set of sql commands 
-- essentially a script

-- sequence is a sql object which will generate  unqiue 

create sequence id_maker
    minvalue 0
    start with 0
    -- maxvalue 999999999999999
    increment by 2
    ;
    
create or replace procedure add_player(name varchar2, salary number, team varchar2)
is
begin

insert into player values(id_maker.nextval,name,salary,team);

end;

select * from player;

call add_player('Misunderstood Mike', 9000, 'Grand Dunk Railroad');
commit;

create table retired_player(p_id number(10) primary key, name varchar2(200));

create or replace trigger retire_player
before delete on player
for each row

begin

    insert into retired_player values (:old.p_id, :old.name);
    
end;

select * from player;

select * from retired_player;
delete from player where p_id = 0;
